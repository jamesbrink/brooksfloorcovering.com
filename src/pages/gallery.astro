---
import { Image } from 'astro:assets';
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import Hero from '../components/Hero.astro';
import Breadcrumb from '../components/Breadcrumb.astro';
import Footer from '../components/Footer.astro';
import 'glightbox/dist/css/glightbox.min.css';

const galleryImages = [
  {
    src: '/images/tile-custom-shower-natural-stone.jpg',
    title: 'Custom Tile Shower',
    description: 'Natural stone tile with mosaic accent strip in a walk-in shower',
  },
  {
    src: '/images/tile-bathtub-surround-marble-mosaic.jpg',
    title: 'Bathtub Tile Surround',
    description: 'Oval soaking tub with marble tile and mosaic detail — in progress',
  },
  {
    src: '/images/tile-bathtub-installation-complete.jpg',
    title: 'Completed Bathtub Installation',
    description: 'Finished oval tub surround with mosaic tile and brushed nickel fixtures',
  },
  {
    src: '/images/tile-shower-partition-frameless-glass.jpg',
    title: 'Bathroom Shower Partition',
    description: 'Frameless glass partition with full-height mosaic tile shower wall',
  },
  {
    src: '/images/tile-glass-mosaic-detail.jpg',
    title: 'Glass & Tile Detail',
    description: 'Close-up of frameless glass meeting mosaic tile — precision craftsmanship',
  },
  {
    src: '/images/tile-master-bathroom-full-remodel.jpg',
    title: 'Full Bathroom Remodel',
    description:
      'Complete master bath with tiled floors, mosaic shower, soaking tub, and double vanity',
  },
  {
    src: '/images/tile-powder-room-porcelain-floor.jpg',
    title: 'Powder Room Tile Floor',
    description: 'Large-format porcelain tile in a powder room for a clean, modern look',
  },
  {
    src: '/images/tile-double-vanity-bathroom-floor.jpg',
    title: 'Double Vanity Bathroom',
    description: 'Tile flooring and tub surround complementing a dark-cabinet double vanity',
  },
  {
    src: '/images/tile-walk-in-shower-niche-accent.jpg',
    title: 'Shower Tile & Niche',
    description:
      'Walk-in shower with large porcelain tile, mosaic accent, and built-in shampoo niche',
  },
  {
    src: '/images/carpet-residential-phoenix-install.jpg',
    title: 'Residential Carpet Install',
    description: 'Fresh wall-to-wall carpet installation in a Phoenix-area home',
  },
  {
    src: '/images/carpet-bedroom-plush-closet.jpg',
    title: 'Bedroom Carpet',
    description: 'Plush carpet installed in a bedroom with closet doors and baseboards',
  },
  {
    src: '/images/carpet-bedroom-neutral-shutters.jpg',
    title: 'Carpet with Shutters',
    description: 'Neutral-tone carpet in a bedroom with plantation shutters',
  },
  {
    src: '/images/carpet-hallway-dark-tone.jpg',
    title: 'Hallway Carpet',
    description: 'Dark carpet extending through a hallway and into adjacent rooms',
  },
  {
    src: '/images/polished-concrete-grinding-demo.jpg',
    title: 'Concrete Polishing Demo',
    description: 'Live demonstration of CPS concrete grinding and polishing equipment',
  },
  {
    src: '/images/polished-concrete-grinder-closeup.jpg',
    title: 'Concrete Grinding Close-Up',
    description: 'CPS floor grinder producing a high-gloss polished concrete finish',
  },
  {
    src: '/images/polished-concrete-warehouse-before.jpg',
    title: 'Warehouse Before Polishing',
    description: 'Large-scale warehouse floor before concrete polishing treatment',
  },
  {
    src: '/images/polished-concrete-warehouse-after.jpg',
    title: 'Warehouse After Polishing',
    description: 'Same warehouse with mirror-finish polished concrete — night and day difference',
  },
  {
    src: '/images/polished-concrete-commercial-highgloss.jpg',
    title: 'Commercial Polished Concrete',
    description: 'High-gloss polished concrete in a commercial building with reflective finish',
  },
  {
    src: '/images/polished-concrete-aircraft-hangar.jpg',
    title: 'Aircraft Hangar Floor',
    description: 'King Air 360 sitting on a pristine polished hangar floor',
  },
  {
    src: '/images/epoxy-metallic-retail-storefront.jpg',
    title: 'Metallic Epoxy Floor',
    description: 'Stunning dark metallic epoxy with swirl pattern in a retail storefront',
  },
  {
    src: '/images/epoxy-metallic-commercial-wideview.jpg',
    title: 'Metallic Epoxy — Wide View',
    description: 'Metallic epoxy floor in a commercial space with track lighting and staircase',
  },
  {
    src: '/images/epoxy-hangar-gray-coating.jpg',
    title: 'Hangar Epoxy Coating',
    description: 'Light gray epoxy coating in a large hangar with industrial roll-up doors',
  },
  {
    src: '/images/epoxy-metallic-natural-light-detail.jpg',
    title: 'Metallic Epoxy Detail',
    description: 'Metallic epoxy floor catching natural light near a cable railing',
  },
  {
    src: '/images/polished-concrete-restaurant-kitchen.jpg',
    title: 'Restaurant Polished Concrete',
    description: 'Polished concrete flooring in a restaurant kitchen and service area',
  },
  {
    src: '/images/polished-concrete-restaurant-dining.jpg',
    title: 'Polished Concrete — Dining Area',
    description: 'Glossy polished concrete in a restaurant with floor-to-ceiling windows',
  },
  {
    src: '/images/concrete-overlay-exposed-aggregate-closeup.jpg',
    title: 'Exposed Aggregate Concrete',
    description: 'Close-up of polished concrete revealing natural stone aggregate',
  },
  {
    src: '/images/concrete-overlay-commercial-hallway-aggregate.jpg',
    title: 'Commercial Concrete Hallway',
    description: 'Polished concrete in a commercial corridor with exposed aggregate finish',
  },
  {
    src: '/images/concrete-overlay-self-leveling-construction.jpg',
    title: 'Self-Leveling Overlay',
    description: 'Self-leveling concrete overlay in a building under construction',
  },
  {
    src: '/images/concrete-overlay-self-leveling-residential.jpg',
    title: 'Self-Leveling Concrete',
    description: 'Fresh self-leveling concrete with a mirror-like surface in a residential remodel',
  },
  {
    src: '/images/concrete-overlay-self-leveling-renovation.jpg',
    title: 'Concrete Overlay — Renovation',
    description: 'Self-leveling concrete floor reflecting window light during a renovation project',
  },
  {
    src: '/images/concrete-overlay-self-leveling-wideview.jpg',
    title: 'Self-Leveling Floor — Wide View',
    description: 'Completed self-leveling concrete in a full residential renovation',
  },
];

const breadcrumbJsonLd = {
  '@context': 'https://schema.org',
  '@type': 'BreadcrumbList',
  itemListElement: [
    {
      '@type': 'ListItem',
      position: 1,
      name: 'Home',
      item: 'https://brooksfloorcovering.com/',
    },
    {
      '@type': 'ListItem',
      position: 2,
      name: 'Gallery',
      item: 'https://brooksfloorcovering.com/gallery/',
    },
  ],
};
---

<Layout
  title="Flooring Project Gallery | Phoenix, AZ - Tile, Carpet, Concrete"
  description="Browse our portfolio of completed flooring projects throughout the Phoenix Valley. Hardwood, tile, carpet, vinyl, concrete, and custom installations."
  jsonLd={breadcrumbJsonLd}
  ogImage="/images/tile-master-bathroom-full-remodel.jpg"
>
  <Navigation />

  <Hero
    title="Our Project Gallery"
    subtitle="Browse through our extensive portfolio of completed flooring projects throughout the Phoenix Valley."
    compact={true}
  />

  <Breadcrumb items={[{ label: 'Home', href: '/' }, { label: 'Gallery' }]} />

  <main>
    <!-- Intro Paragraph -->
    <section class="pt-12 pb-4 bg-neutral-50">
      <div class="container mx-auto px-4 max-w-4xl text-center">
        <p class="text-neutral-700 leading-relaxed text-lg">
          From custom tile showers and full bathroom remodels to wall-to-wall carpet installations,
          polished concrete, and metallic epoxy coatings, our portfolio showcases the range of
          flooring projects we've completed for homes and businesses across Phoenix, Scottsdale,
          Glendale, Mesa, and the Greater Phoenix Area.
        </p>
      </div>
    </section>

    <!-- Gallery Grid -->
    <section class="py-16 bg-neutral-50">
      <div class="container mx-auto px-4">
        <div
          class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 max-w-7xl mx-auto"
          id="gallery"
        >
          {
            galleryImages.map((image, index) => (
              <a
                href={image.src}
                class="glightbox group block aspect-square overflow-hidden rounded-lg shadow-md hover:shadow-xl transition-all duration-300 bg-neutral-100 relative"
                data-gallery="gallery1"
                data-title={image.title}
                data-description={image.description}
              >
                <Image
                  src={image.src}
                  alt={`${image.title} — ${image.description}`}
                  class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"
                  width={400}
                  height={400}
                  inferSize
                  loading={index < 8 ? 'eager' : 'lazy'}
                />
                <div class="absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/70 to-transparent p-3 pt-8 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                  <p class="text-white text-sm font-semibold leading-tight">{image.title}</p>
                  <p class="text-white/80 text-xs mt-0.5 leading-snug">{image.description}</p>
                </div>
              </a>
            ))
          }
        </div>
      </div>
    </section>

    <!-- Call to Action -->
    <section class="py-16 bg-white">
      <div class="container mx-auto px-4 text-center">
        <h2 class="text-3xl md:text-4xl font-bold mb-4 font-display tracking-tight">
          Ready to Start Your Project?
        </h2>
        <p class="text-neutral-700 mb-8 max-w-2xl mx-auto leading-relaxed">
          Let us bring your flooring vision to life. Contact us today for a free estimate.
        </p>
        <a
          href="/contact"
          class="inline-block bg-brand-accent text-white px-10 py-4 rounded-lg font-semibold hover:bg-brand-accent-dark transition duration-300 text-lg shadow-lg"
        >
          Get Your Free Estimate
        </a>
      </div>
    </section>
  </main>

  <Footer />
</Layout>

<script>
  import GLightbox from 'glightbox';

  // Initialize GLightbox with keyboard navigation enabled
  // Escape key closes the lightbox, arrow keys navigate between slides
  GLightbox({
    touchNavigation: true,
    keyboardNavigation: true,
    closeOnOutsideClick: true,
    loop: true,
    autoplayVideos: false,
    closeButton: true,
    moreLength: 0,
  });
</script>

<style>
  /* Ensure images display properly */
  img {
    display: block;
  }
</style>
