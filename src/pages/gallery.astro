---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import Hero from '../components/Hero.astro';
import Footer from '../components/Footer.astro';
import 'glightbox/dist/css/glightbox.min.css';

// Generate array of gallery images
const galleryImages = Array.from({ length: 31 }, (_, i) => {
  const num = String(i + 1).padStart(3, '0');
  return `/images/${num}.jpg`;
});
---

<Layout title="Photo Gallery - Brooks Floor Covering">
  <Navigation />

  <Hero
    title="Our Project Gallery"
    subtitle="Browse through our extensive portfolio of completed flooring projects throughout the Phoenix Valley."
    compact={true}
  />

  <main>
    <!-- Gallery Grid -->
    <section class="py-16 bg-neutral-50">
      <div class="container mx-auto px-4">
        <div
          class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-w-7xl mx-auto"
          id="gallery"
        >
          {
            galleryImages.map((src, index) => (
              <a
                href={src}
                class="glightbox group block aspect-square overflow-hidden rounded-lg shadow-md hover:shadow-xl transition-all duration-300 bg-neutral-100"
                data-gallery="gallery1"
              >
                <img
                  src={src}
                  alt={`Brooks Floor Covering Project ${index + 1}`}
                  class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"
                  loading="lazy"
                  width="400"
                  height="400"
                  decoding="async"
                />
              </a>
            ))
          }
        </div>
      </div>
    </section>

    <!-- Call to Action -->
    <section class="py-16 bg-white">
      <div class="container mx-auto px-4 text-center">
        <h2 class="text-3xl font-bold mb-4">Ready to Start Your Project?</h2>
        <p class="text-neutral-600 mb-8 max-w-2xl mx-auto">
          Let us bring your flooring vision to life. Contact us today for a free estimate.
        </p>
        <a
          href="/contact"
          class="inline-block bg-blue-600 text-white px-10 py-4 rounded-lg font-semibold hover:bg-blue-700 transition duration-300 text-lg"
        >
          Get Your Free Estimate
        </a>
      </div>
    </section>
  </main>

  <Footer />
</Layout>

<script>
  import GLightbox from 'glightbox';

  // Initialize GLightbox
  GLightbox({
    touchNavigation: true,
    loop: true,
    autoplayVideos: false,
    closeButton: true,
    moreLength: 0,
  });
</script>

<style>
  /* Ensure images display properly */
  img {
    display: block;
  }
</style>
